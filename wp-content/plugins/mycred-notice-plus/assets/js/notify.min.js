!function(e){e.extend({noticeAdd:function(t){var t,o,n,i,c={inEffect:{opacity:"show"},inEffectDuration:600,stayTime:parseInt(myCRED_Notice.duration,10),text:"",stay:!0,type:"positive",classes:"notice-item"};t=e.extend({},c,t),o=e("#mycred-notificiation-wrap"),n=e("<div></div>").addClass("notice-item-wrapper"),i=e("<div></div>").hide().addClass(t.classes+" "+t.type).appendTo(o).append(t.text).animate(t.inEffect,t.inEffectDuration).wrap(n),e("<div></div>").addClass("notice-item-close").prependTo(i).html("&times;").click(function(){e.noticeRemove(i)}),navigator.userAgent.match(/MSIE 6/i)&&o.css({top:document.documentElement.scrollTop}),t.stay||setTimeout(function(){e.noticeRemove(i)},t.stayTime)},noticeRemove:function(e){e.animate({opacity:"0"},200,function(){e.parent().animate({height:"0px"},100,function(){e.parent().remove()})})}});var t=!1,o=function(){if(t)return!1;t=!0,console.log("Instant Notifications: Checking for new notifications"),e.ajax({type:"POST",data:{action:"mycred-inotify",token:myCRED_Notice.token},dataType:"JSON",url:myCRED_Notice.ajaxurl,success:function(o){void 0!==o&&null!==o&&""!=o?("yes"==myCRED_Notice.debug&&console.log(o),e.each(o,function(t,o){myCRED_Notice.duration>0?e.noticeAdd({text:o.text,stay:!1,type:o.type,classes:o.classes}):e.noticeAdd({text:o.text,stay:!0,type:o.type,classes:o.classes})})):"yes"==myCRED_Notice.debug&&console.log("Instant Notifications: no new messages found"),t=!1},error:function(e,t,o){console.log("Instant Notifications: Communications error!"),"yes"==myCRED_Notice.debug&&(console.log(e.responseText),console.log(o))}})};e(document).ready(function(){myCRED_Notice.notices.length>0&&("yes"==myCRED_Notice.debug&&console.log(myCRED_Notice.notices),e.each(myCRED_Notice.notices,function(t,o){myCRED_Notice.duration>0?e.noticeAdd({text:o.text,stay:!1,type:o.type,classes:o.classes}):e.noticeAdd({text:o.text,stay:!0,type:o.type,classes:o.classes})})),"1"==myCRED_Notice.instant?("yes"==myCRED_Notice.debug&&console.log("Instant Notifications: Enabled Refresh rate: "+myCRED_Notice.frequency+" ms."),window.setInterval(function(){o()},myCRED_Notice.frequency)):"yes"==myCRED_Notice.debug&&console.log("Instant Notifications: Disabled.")})}(jQuery);